# 관계형 데이터베이스의 제약 조건 - 키(key)



### 키

- 키는 데이터베이스에서 조건에 만족하는 튜플을 찾거나 순서대로 정렬할 때 기준이 되는 속성을 말한다
- 키의 종류 : 후보키, 기본키, 외래키, 슈퍼키, 대체키



#### 후보키 ( Candidate Key )

- 릴레이션을 구성하는 속성들 중에서 **`튜플을 유일하게 식별`**하기 위해 사용되는 속성들의 부분집합
- 기본키로 사용 할 수 있는 속성들을 말한다
- 후보키는 유일성, 최소성을 모두 만족시켜야 한다
  1. 유일성 : 하나의 키 값으로 하나의 튜플만을 유일하게 식별 할 수 있어야 함
  2. 최소성 : 키를 구성하는 속성 하나를 제거하면 유일하게 식별 할 수 없도록 꼭 필요한 최소의 속성으로 구성

#### 기본키 ( Primary Key )

- 후보키 중에서 특별히 선정된 주 키 ( Main Key )
- 기본키는 중복된 값을 가질 수 없다
- 기본키는 NULL 값을 가질 수 없다. 튜플에서 기본키로 설정된 속성에는 NULL이 있어선 안됨



#### 대체키

- 후보키가 둘 이상 일 때 기본키를 제외한 나머지 후보키를 의미
- 보조키라고도 한다



#### 슈퍼 키 

- 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키
- 릴레이션을 구성하는 모든 튜플 중 슈퍼키로 구성된 속성의 집합과 동일한 값은 나타나지 않는다
- 유일성은 만족하지만 최소성은 만족하지 않는다



#### 외래키

- 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합
- 외래키로 지정되면 참조 릴레이션의 기본키에 값은 입력 할 수 없다



# 관게형 데이터베이스의 제약 조건 - 무결성

### 무결성

- 데이터베이스에 저장된 데이터 값과 그것이 표현하는 현실 세계 실제 값이 일치하는 정확성
- 무결성 제약 조건은 데이터베이스에 들어 있는 데이터의 정확성을 보장하기 위해 부정확한 자료가 데이터베이스 내에 저장되는 것을 방지하기 위한 제약 조건을 말한다



#### 무결성의 종류

| 종류               | 내용                                                         |
| ------------------ | ------------------------------------------------------------ |
| 개체 무결성        | 기본키를 구성하는 어떤 속성도 NULL 값이나 중복값을 가질 수 없다 |
| 참조 무결성        | 외래키 값은 NULL이건 참조 릴레이션의 기본키 값과 동일        |
| 도메인 무결성      | 주어진 속성 값이 정의된 도메인에 속한 값이어야 한다          |
| 사용자 정의 무결성 | 속성 값들이 사용자가 정의한 제약조건에 만족되어야 한다       |
| NULL 무결성        | 릴레이션 특정 속성 값이 NULL이 되지 않는다                   |
| 고유 무결성        | 릴레이션의 특정 속성에 대해 각 튜플이 갖는 속성값들이 서로 달라야 한다 |
| 키 무결성          | 하나의 릴레이션에는 적어도 하나의 키가 존재                  |
| 관계 무결성        | 릴레이션에 어느 한 튜플의 삽입 가능 여부 또는 한 릴레이션과 다른 릴레이션의 튜플들 사이의 관계에 대한 적절성 여부를 지정한 규정 |



### 데이터 무결성 강화

- 데이터 무결성은 데이터 품질에직접적인 영향을미치므로 데이터 특성에 맞는 적절한무결성을 정의하고 강화해야 한다
- 데이터 무결성은 애플리케이션,데이트베이스 트리거, 제약 조건을 이용하여 강화 할 수 있다

