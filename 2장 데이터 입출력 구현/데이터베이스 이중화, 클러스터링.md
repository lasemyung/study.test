# 데이터베이스 이중화 / 서버 클러스터링



## 데이터베이스 이중화

- 시스템 오류, 서비스 중단등 뭔일이 생겼을 때 동일한 데이터베이스를 복제하여 관리하는 것
- 문제가 생겨도 똑같은 다른 하나의 디비가 있기 때문에 안전함
- 하나의 디비에 작업해도 다른 하나에 동일하게 적용됨
- 즉 손쉽게 백업 서버를 운영할 수 있음



### 이중화의 분류

| Eager 기법 | 트랜잭션 수행 중 데이터 변경이 발생하면 즉시 모든 데이터베이스에 전달되어 변경됨 |
| ---------- | ------------------------------------------------------------ |
| Lazy 기법  | 트랜잭션 수행이 종료되면 변경 사실을 새로운 트랜잭션에 작성하여 각 데이터베이스 전달되는 기법 |



### 데이터 베이스 이중화 구성 방법

-  활동 대기 방법
  - 한 DB가 활성 상태로 있다가 한놈이 장애가 발생하면 대기 상태의 DB가 대신 일함
  - 구성 방법과 관리가 쉬워 많이들 이용
- 활동 - 활동 방법
  - 두개의 DB가 다른 서비스를 제공하다가 둘중 한쪽 DB에 문제가 생기면 한놈이 일을 다함
  - 좋은 방법이지만 구성이 복잡하고 어려움



## 클러스터링

- 두대 이상의 서버를 하나의 서버처럼 운영하는 기술
- 서버 이중화 및 공유 스토리지를 사용하여 서버의 고가용성을 제공한다
- 클러스터링 종류
  - 고가용성 클러스터링 : 하나의 서버가 장애가 생기면 다른 서버가 받아 처리하여 서비스 중간을 방지
  - 병렬 처리 클러스터링 : 전체 처리율을 높이기 위해 여러개의 서버를 돌려서 분산



### RTO/RPO

- RTO :  비상사태 또는 업무 중단 시점으로부터 복구되어 가동될 때까지의 소요 시간을 의미
- RPO : 비상사태 또는 업무 중단 시점으로부터 데이터를 복구할 수 있는 기준점을 의미

